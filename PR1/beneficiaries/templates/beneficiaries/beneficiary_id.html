{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/davidshimjs/qrcodejs/qrcode.min.js"></script>
  </head>
  <body class="card">
    <div>
        <img src="{{ben.beneficiary_pic.url}}"  style="width:50%" class = 'ben-pic'>
        <h5  class = 'bid' id = "{{ben.beneficiary_id}}">ID: {{ben.beneficiary_id}}</h5>
        <h3 id = >{{ ben.first_name }} {{ben.middle_name}} {{ben.last_name}}</h3>
        <table class = 'ben-info'>
            <tr>
                <td>Date of Birth:</td>
                <td>{{ben.date_of_birth}}</td>
                <td>Place of Birth:</td>
                <td>{{ben.place_of_birth}}</td>
            </tr>
            <tr>
                <td>Sex:</td>
                <td>{{ben.sex}}</td>
                <td>Household Size:</td>
                <td>{{ben.householod_size}}</td>
            </tr>
            <tr>
                <td>Displacement Status:</td>
                <td>{{ben.displacement_status}}</td>
                <td>Contact:</td>
                <td>{{ben.contact_number}}</td>
            </tr>
        </table>
        <div>
          <div id="qrcode"></div>
        </div>
        <a href="#"><i class="fa fa-dribbble"></i></a>
        <a href="#"><i class="fa fa-twitter"></i></a>
        <a href="#"><i class="fa fa-linkedin"></i></a>
        <a href="#"><i class="fa fa-facebook"></i></a>
        <p><button><img src = "{% static 'login/images/sarc-icon.jpg'%}" class = 'sarc-icon'/><small class = 'sarc-contact'>TEL: XXX-XXXXXXX | YYY-YYYYYYY</small></button></p>
      </div>
    </body>
    <style>
        .card {
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        max-width: 250px;
        margin: auto;
        text-align: center;
      }

      .ben-pic{
        margin-top: 2%;
      }
      
      .ben-info{
        text-align: left;
        font-size: 8px;
        padding-left: 10px;
      }
      .title {
        color: grey;
        font-size: 9px;
      }

      td{
        padding-right: 10px;
        padding-bottom: 2px;
      }
      
      button {
        border: none;
        outline: 0;
        display: inline-block;
        padding: 8px;
        color: white;
        background-color: rgb(200,0,0);
        text-align: center;
        cursor: pointer;
        width: 100%;
        font-size: 8px;
      }
      
      a {
        text-decoration: none;
        font-size: 10px;
        color: black;
      }

    .sarc-contact{
        font-size: 4px;
        text-align: right;
        float: right;
        margin-top: 4%;
    }

    .sarc-icon{
        width: 25px;
        height: 25px;
        border-radius: 50%;
        float: left;
    }

    #qrcode{
      padding-top: 10px;
      margin-left: 90px;
    }
    </style>
    <script>
      $(document).ready(function(){
        var bid = $('.bid').attr('id');

        
        $.getJSON('/beneficiaries/GetBeneficiaryByID/' + bid , function(data){
            var qr_content = data.first_name+"_"+data.middle_name+"_"+data.last_name+"_"+data.beneficiary_id.toString(); 
            $("#qrcode").html("");
            var qrcode = new QRCode("qrcode", {
              text: qr_content,
              width: 75,
              height: 75,
            }
          ); 
        });
      });
    </script>
</html>